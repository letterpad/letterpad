# import './partial.graphql'

query Tag($slug: String!) {
  tag(slug: $slug) {
    ... on Tags {
      name
      slug
    }
    ... on TagResultError {
      message
    }
  }
}

query Post($filters: PostFilters) {
  post(filters: $filters) {
    ... on Post {
      ...PostWithAuthorAndTags
    }

    ... on PostError {
      message
    }
  }
}

query Posts($filters: PostsFilters) {
  posts(filters: $filters) {
    ... on PostsNode {
      count
      rows {
        ...Partial
        author {
          name
          social {
            github
            twitter
            instagram
            facebook
            linkedin
          }
          bio
          occupation
          company_name
        }
        tags {
          name
          slug
        }
      }
    }

    ... on PostError {
      message
    }
  }
}

query Media($filters: MediaFilters) {
  media(filters: $filters) {
    count
    rows {
      id
      url
      authorId
      createdAt
      name
      description
      width
      height
    }
  }
}

query Subscribers($author_id: Int) {
  subscribers(author_id: $author_id) {
    count
    rows {
      id
      email
      verified
      createdAt
    }
  }
}

query Email($template_id: String) {
  email(template_id: $template_id) {
    ... on Email {
      template_id
      body
      subject
    }
    ... on EmailError {
      message
    }
  }
}

query Emails {
  emails {
    template_id
    body
    subject
  }
}

query Me {
  me {
    ... on Author {
      ...MeFragment
    }
    ... on AuthorNotFoundError {
      message
    }
  }
}

query Tags($filters: TagsFilters) {
  tags(filters: $filters) {
    ... on TagsNode {
      rows {
        name
        slug
        posts {
          ... on PostsNode {
            count
            rows {
              id
            }
          }
        }
      }
    }
    ... on TagsError {
      message
    }
  }
}

query Stats {
  stats {
    ... on Stats {
      posts {
        published
        drafts
      }
      pages {
        published
        drafts
      }
      tags
      media
    }

    ... on StatsError {
      message
    }
  }
}

query settings {
  settings {
    ... on Setting {
      ...SettingsFragment
    }
    ... on SettingError {
      message
    }
  }
}

query domain {
  domain {
    ... on Domain {
      name
      mapped
      ssl
    }
    ... on DomainNotFound {
      message
    }
  }
}
